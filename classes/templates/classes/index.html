{% extends 'classes/layout.html' %}

{% load static %}

{% block content %}

{% if building %}
<div class="card">
    <div class="card-content">
        {{building.building}}
    </div>
</div>
{% elif c %}
    <h6 class="center-align">{{c}}</h6>
    <div class="card">
        <div class="card-content">
            {{c.building}} {{c.room}} {{c.day}} {{c.time}}
        </div>
    </div>
{% endif %}

<link rel="stylesheet" type="text/css" href="{% static 'classes/assets/css/bootstrap.min.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'classes/dist/bootstrap-clockpicker.min.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'classes/assets/css/github.min.css' %}">
<link href="data:image/x-icon;base64,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 sZx7nhsOkkjb9MVO7MX1POnG1ZR7gKJwvCz6zLAyce3N9cD7cf89igTXxf/8lVG++cvZhfIeiw30 ApuBH+H+V5CSb1tMqpPRTReip8DWCTLxsvoKKah/9bAmN971Foc7u/6/OzsdSeCGIXszMPYA45Nl mHShKu+fzkRHHvvg63rKeF0JJZUQxtO7KsXhrtl8teI9FQf3pOxfTIP/Kn9p8n84ryOIEEgllAAA ACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wNC0xOVQyMzo0MTowOSswMDowMOaoRLwAAAAldEVYdGRh dGU6bW9kaWZ5ADIwMTgtMDQtMTlUMjM6NDE6MDkrMDA6MDCX9fwAAAAARnRFWHRzb2Z0d2FyZQBJ bWFnZU1hZ2ljayA2LjcuOC05IDIwMTQtMDUtMTIgUTE2IGh0dHA6Ly93d3cuaW1hZ2VtYWdpY2su b3Jn3IbtAAAAABh0RVh0VGh1bWI6OkRvY3VtZW50OjpQYWdlcwAxp/+7LwAAABh0RVh0VGh1bWI6 OkltYWdlOjpoZWlnaHQAMTkyDwByhQAAABd0RVh0VGh1bWI6OkltYWdlOjpXaWR0aAAxOTLTrCEI AAAAGXRFWHRUaHVtYjo6TWltZXR5cGUAaW1hZ2UvcG5nP7JWTgAAABd0RVh0VGh1bWI6Ok1UaW1l ADE1MjQxODEyNjnielSFAAAAD3RFWHRUaHVtYjo6U2l6ZQAwQkKUoj7sAAAAVnRFWHRUaHVtYjo6 VVJJAGZpbGU6Ly8vbW50bG9nL2Zhdmljb25zLzIwMTgtMDQtMTkvODljYjAxOWI4NDBkMTkxNWMw YmUxN2RlMWUwNjAzOWQuaWNvLnBuZy3iKbMAAAAASUVORK5CYII=" rel="icon" type="image/x-icon" />

<form method="GET" action="{% url 'classes:search' %}">
    <input name = "q" value="{{request.GET.q}}" placeholder="Search dept/course num... ex: COS 333">
    <button class="btn btn-success" type="submit">
        Search
    </button>
</form>


<div style="width:30%; float:right;">
  <div class="input-group clockpicker pull-center"  data-autoclose="true">
    <input type="text" class="form-control">
    <span class="input-group-addon">
      <span class="glyphicon glyphicon-time"></span>
    </span>
  </div>
</div>


<html>
<head>
  <title>ClassMaps</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="shortcut icon" type="image/x-icon" href="http://leafletjs.com/examples/layers-control/docs/images/favicon.ico">

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" crossorigin=""></script>

  <script src="{% static 'classes/bkmkdist/Leaflet.Bookmarks.min.js' %}"></script>
  <link type="text/css" rel="stylesheet" href="{% static 'classes/bkmkdist/leaflet.bookmarks.css' %}">

  <script type="text/javascript" src="{% static 'classes/assets/js/jquery.min.js' %}"></script>
  <script type="text/javascript" src="{% static 'classes/assets/js/bootstrap.min.js' %}"></script>
  <script type="text/javascript" src="{% static 'classes/dist/bootstrap-clockpicker.min.js' %}"></script>
  <script type="text/javascript">
    $('.clockpicker').clockpicker({
      twelvehour: true,
    })
    .find('input').change(function(){
      console.log(this.value);
    });
    var input = $('#single-input').clockpicker({
      placement: 'bottom',
      align: 'left',
      autoclose: true,
      default: 'now'
    });
</script>


<style>
  #map { width: 100%; height: 600px; }
  .slidecontainer {
      margin: 0 auto;
      width: 350px;
  }
</style>
</head>

<div class="dropdown">
  <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Day of the Week
  </button>
  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
    <a class="dropdown-item" href="#M">Monday</a>
    <a class="dropdown-item" href="#T">Tuesday</a>
    <a class="dropdown-item" href="#W">Wednesday</a>
    <a class="dropdown-item" href="#Th">Thursday</a>
    <a class="dropdown-item" href="#F">Friday</a>
  </div>
</div>
  <div id="map"></div>
  <script>
    // Adds different layer groups
    var printers = L.layerGroup();
    var hotspots = L.layerGroup();
    var laundry = L.layerGroup();

    var printerLocs = [['40.34614', '-74.660091', '1901 Hall - Ground Floor', '6'],
 ['40.345863', '-74.656253', '1937 Hall - Ground Floor', '6'],
 ['40.344532', '-74.655534', '1976 Hall - Room 33', '6'],
 ['40.343418', '-74.655867', 'Bloomberg Hall - Room 315', '6'],
 ['40.347546', '-74.654514', 'Campus Club - 2nd Floor', '6'],
 ['40.346659', '-74.653703', 'Center for Jewish Life - 2nd Floor', '6'],
 ['40.34714524', '-74.65927882', 'Edwards Hall - Basement', '6'],
 ['40.349123', '-74.651827', 'Fields Center - Room 308', '6'],
 ['40.349582', '-74.657495', 'Firestone Library - Room B-4-K', '6'],
 ['40.342214', '-74.661144', 'Forbes College - Library, Room 32', '6'],
 ['40.342214', '-74.661144', 'Forbes College - Rooms 21, 22', '6'],
 ['40.350268', '-74.652827', 'Friend Center - Room 016', '6'],
 ['40.350268', '-74.652827', 'Friend Center - Room 017', '6'],
 ['40.34673', '-74.655259', 'Frist Campus Center - 100 Level', '6'],
 ['40.34673', '-74.655259', 'Frist Campus Center - 200 Level', '6'],
 ['40.34673', '-74.655259', 'Frist Campus Center - 300 Level', '6'],
 ['40.348599', '-74.661556', 'Holder Hall - Room B11', '6'],
 ['40.348599', '-74.661556', 'Holder Hall - Room B31', '6'],
 ['40.34491', '-74.656064', 'Julian Street Library', '6'],
 ['40.343615', '-74.658358', 'Lauritzen Hall - Room 409', '6'],
 ['40.333379', '-74.657018', 'Lawrence Apartments - Building 1', '6'],
 ['40.333379', '-74.657018', 'Lawrence Apartments - Building 14', '6'],
 ['40.346679', '-74.659941', 'Little Hall - Basement', '6'],
 ['40.348433', '-74.66236', 'Madison Hall - Room G17', '6'],
 ['40.348307', '-74.656521', 'McCosh Hall - Room B59', '6'],
 ['40.345334', '-74.652546', 'McDonnell Hall - Brush Gallery', '6'],
 ['40.340914', '-74.666387', 'New Graduate College - Entry 33/34', '6'],
 ['40.344305', '-74.658391', 'North Hall - Library', '6'],
 ['40.340903', '-74.665119', 'Old Graduate College - Room B-9-B', '6'],
 ['40.347788', '-74.656319', 'Architecture Library - 2nd Floor', '28'],
 ['40.34673', '-74.655259', 'East Asian Library - Frist Campus Center', '28'],
 ['40.346412', '-74.655946', 'East Asian Library - Jones Hall', '28'],
 ['40.350268', '-74.652827', 'Engineering Library - 2nd Floor', '28'],
 ['40.345701', '-74.652474', 'Fine Hall Library - Basement', '28'],
 ['40.349582', '-74.657495', 'Firestone Library - 1st Floor, Reserve', '28'],
 ['40.349582', '-74.657495', 'Firestone Library - 3rd Floor', '28'],
 ['40.349582', '-74.657495', 'Firestone Library - A Floor', '28'],
 ['40.349582', '-74.657495', 'Firestone Library - A Floor - Reserve', '28'],
 ['40.349582', '-74.657495', 'Firestone Library - B Floor', '28'],
 ['40.349582', '-74.657495', 'Firestone Library - C Floor', '28'],
 ['40.34673', '-74.655259', 'Frist Campus Center - 100 Level', '28'],
 ['40.34624', '-74.6528', 'Lewis Library - 1st Floor', '28'],
 ['40.34624', '-74.6528', 'Lewis Library - 2nd Floor', '28'],
 ['40.34624', '-74.6528', 'Lewis Library - A Floor', '28'],
 ['40.347274', '-74.658045', 'Marquand Library', '28'],
 ['40.347239', '-74.655894', 'Music Library - Woolworth', '28'],
 ['40.349789', '-74.656103', 'Psychology Library', '28'],
 ['40.349194', '-74.653644', 'Stokes Library - Basement', '28'],
 ['40.351069', '-74.654141', '201 Nassau Street', '92'],
 ['40.34365', '-74.657332', '1981 Hall - Room B10', '29'],
 ['40.347445', '-74.661497', 'Blair Hall - Entry 11', '29'],
 ['40.346367', '-74.657862', 'Brown Hall - Basement', '29'],
 ['40.34678', '-74.658659', 'Dod Hall - Lower Level', '29'],
 ['40.344653', '-74.658267', 'Fisher Hall Dorm - Room 213', '29'],
 ['40.346321', '-74.660941', 'Foulke Hall - Basement', '29'],
 ['40.346014', '-74.655508', 'McCosh Health Center - Solarium', '29'],
 ['40.345359', '-74.659666', 'Pyne Hall - Room 231', '29'],
 ['40.344386', '-74.654874', 'Scully Hall - Room 269A', '29'],
 ['40.344386', '-74.654874', 'Scully Hall - Room 309', '29'],
 ['40.344653', '-74.659248', 'Spelman Halls - Laundry Room', '29'],
 ['40.34745173', '-74.66012844', 'Witherspoon Hall - Room 109', '29'],
 ['40.34570028', '-74.65758615', 'Wright Hall - 3rd Floor', '29'],
 ['40.344719', '-74.656574', 'Wu Hall - Mellon Library', '29'],
 ['40.34673', '-74.655259', 'Frist Campus Center - 100 Level', '30'],
 ['40.34673', '-74.655259', 'Frist Campus Center - B Level', '30']];

 hotspotLocs = [['40.35063', '-74.654932', '1st Floor (near elevator)'],
 ['40.342738', '-74.657116', 'Communication Center window'],
 ['40.348357', '-74.648976', 'Next to elevator, main lobby'],
 ['40.349043', '-74.6586', 'Chancellor Green Cafe'],
 ['40.350182', '-74.652298', 'South Lobby, near stairwell'],
 ['40.345591', '-74.658685', 'Lobby, west wall'],
 ['40.350484', '-74.651539', 'On column next to cafe entrance'],
 ['40.349582', '-74.657495', 'Firestone Library Front Desk'],
 ['40.342027',
  '-74.661065',
  '1) North wing, main lobby 2) Dining Hall, card checker station'],
 ['40.344018', '-74.65084', 'Frick Chemistry CaFe'],
 ['40.34673',
  '-74.655259',
  '1) 100 Level mailboxes (x2) 2) Southwest entrance, A Level'],
 ['40.340903', '-74.665119', 'Procter Hall, card checker station'],
 ['40.345797',
  '-74.65456',
  '1) Near west end elevator on the first floor 2) Near west end elevator on the third floor'],
 ['40.344366', '-74.653435', 'Genomics Cafe'],
 ['40.343413', '-74.6488', 'Lobby, east wall'],
 ['40.34495', '-74.651918', '1st Floor'],
 ['40.34624',
  '-74.6528',
  'Lower floor in the common lobby area across from internal library main entrance'],
 ['40.347697', '-74.661595', 'Witherspoon Hall, exterior near entry 4'],
 ['40.347274', '-74.658045', 'Near Marquand Library'],
 ['40.345611', '-74.653978', 'Lower Level (near maintenance shop)'],
 ['40.343333',
  '-74.658934',
  '1) Housing Office, Floor 5 2) TigerCard Office, Floor A'],
 ['40.348373', '-74.654762', 'Woodrow Wilson Cafe'],
 ['40.348528', '-74.661928', 'Madison Hall, card checker station (x2)'],
 ['40.344058', '-74.657933', 'Community Hall, Gallery'],
 ['40.34491', '-74.656064', 'Wilcox Hall, card checker station'],
 ['40.34745173', '-74.66012844', 'Exterior, near Entry 4'],
 ['40.34570028', '-74.65758615', 'North wall, exterior']];

 laundryLocs = [['40.344719', '-74.65694', '1915 Hall - Entry 6'],
 ['40.345162', '-74.655828', '1927/Clapp Hall - Basement'],
 ['40.344532', '-74.655534', '1976 Hall - Room 032'],
 ['40.34365', '-74.657332', '1981 Hall - Room F312'],
 ['40.34365', '-74.657332', '1981 Hall - Room F403'],
 ['40.34365', '-74.657332', '1981 Hall - Room FB11'],
 ['40.347445', '-74.661497', 'Blair Hall - Basement, entry 10'],
 ['40.343418', '-74.655867', 'Bloomberg Hall - Room 041'],
 ['40.343418', '-74.655867', 'Bloomberg Hall - Room 269'],
 ['40.343418', '-74.655867', 'Bloomberg Hall - Room 332'],
 ['40.343418', '-74.655867', 'Bloomberg Hall - Room 460'],
 ['40.347405', '-74.660712', 'Buyers Hall - Basement'],
 ['40.34714524', '-74.65927882', 'Edwards Hall'],
 ['40.345827', '-74.656613', 'Feinberg Hall - Basement'],
 ['40.344653', '-74.658267', 'Fisher Hall - Room A119'],
 ['40.341498', '-74.660568', 'Forbes Annex - Basement'],
 ['40.342214', '-74.661144', 'Forbes Main - Basement'],
 ['40.34811', '-74.66219', 'Hamilton Hall - Basement'],
 ['40.348599', '-74.661556', 'Holder Hall - Basement, entry 5'],
 ['40.347803', '-74.662118', 'Joline Hall - Entry 3'],
 ['40.346679', '-74.659941', 'Little Hall - Basement, entry 1'],
 ['40.344305', '-74.658391', 'North Hall - Room C205'],
 ['40.344305', '-74.658391', 'North Hall - Room C305'],
 ['40.344305', '-74.658391', 'North Hall - Room C407'],
 ['40.343449', '-74.65792', 'South Baker Hall - Room S201'],
 ['40.343449', '-74.65792', 'South Baker Hall - Room S301'],
 ['40.343449', '-74.65792', 'South Baker Hall - Room S401'],
 ['40.34745173', '-74.66012844', 'Witherspoon Hall - Basement'],
 ['40.344255', '-74.656129', 'Yoseloff Hall - Room 005']];

     var printerIcon = L.icon({
       iconUrl: 'http://www.cs.princeton.edu/~yangsong/printer_icon.png',

       iconSize:     [28, 28], // size of the icon
       iconAnchor:   [14, 14], // point of the icon which will correspond to marker's location
       popupAnchor:  [0, 0] // point from which the popup should open relative to the iconAnchor
     });

     var laundryIcon = L.icon({
       iconUrl: 'http://www.cs.princeton.edu/~yangsong/washer.png',

       iconSize:     [28, 28], // size of the icon
       iconAnchor:   [14, 14], // point of the icon which will correspond to marker's location
       popupAnchor:  [0, 0] // point from which the popup should open relative to the iconAnchor
     });

var hotspotIcon = L.icon({
       iconUrl: 'http://www.cs.princeton.edu/~yangsong/hotspot.png',

       iconSize:     [28, 28], // size of the icon
       iconAnchor:   [14, 14], // point of the icon which will correspond to marker's location
       popupAnchor:  [0, 0] // point from which the popup should open relative to the iconAnchor
     });

    for (var i = 0; i < printerLocs.length; i++) {
  //if (hi[i][3] == '6' || hi[i][3] == '29')
    if (printerLocs[i][3] == '6') L.marker([printerLocs[i][0], printerLocs[i][1]], {icon: printerIcon}).bindPopup(printerLocs[i][2]).addTo(printers);
    if (printerLocs[i][3] == '29') L.marker([printerLocs[i][0], printerLocs[i][1]], {icon: printerIcon}).bindPopup(printerLocs[i][2]).addTo(printers);
    if (printerLocs[i][3] == '28') L.marker([printerLocs[i][0], printerLocs[i][1]], {icon: printerIcon}).bindPopup(printerLocs[i][2]).addTo(printers);
 }

 for (var i = 0; i < laundryLocs.length; i++) {
  //if (hi[i][3] == '6' || hi[i][3] == '29') 
    L.marker([laundryLocs[i][0], laundryLocs[i][1]], {title: laundryLocs[i][2], icon: laundryIcon}).bindPopup(laundryLocs[i][2]).addTo(laundry);
 }

 for (var i = 0; i < hotspotLocs.length; i++) {
  //if (hi[i][3] == '6' || hi[i][3] == '29') 
    L.marker([hotspotLocs[i][0], hotspotLocs[i][1]], {title: hotspotLocs[i][2], icon: hotspotIcon}).bindPopup(hotspotLocs[i][2]).addTo(hotspots);
 }

    // URLS of maps for different layers (note: need to add attributes)
    var mbAttr = 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
      '<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
      'Imagery © <a href="http://mapbox.com">Mapbox</a>',
    mbUrl = 'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
    mbUrl2 = 'http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}';

    // Different layers
    var regular   = L.tileLayer(mbUrl, {id: 'mapbox.light', attribution: mbAttr}),
    satellite  = L.tileLayer(mbUrl2, {id: 'mapbox.satellite',   attribution: mbAttr});

    // Initializes the map
    var map = L.map('map', {
      center: [40.346, -74.653],
      zoom: 16,
      layers: [regular]
    });

    /*$('.pure-button').on('click', function(){
mymap.locate({setView: true, maxZoom: 15});
});*/

        map.locate({setView: true,watch: true, maxZoom: 16});
    function onLocationFound(e) {
    var radius = e.accuracy / 2;
    L.marker(e.latlng).addTo(map)
        .bindPopup("You are within " + radius + " meters from this point").openPopup();
    L.circle(e.latlng, radius).addTo(map);
    }
    map.on('locationfound', onLocationFound);

    // Bookmarks
    //var control = new L.Control.Bookmarks().addTo(map);

    // Our different layers
    var baseLayers = {
      "Regular": regular,
    "Satellite": satellite
    };

    // Our overlays
    var overlays = {
      "Printers": printers,
      "Laundry": laundry,
    "Hotspots": hotspots
    };



    // Adds overlays and layers to map
    L.control.layers(baseLayers, overlays).addTo(map);

    // Limits zoom (we could get rid of this)
    map.options.minZoom = 14;
    map.options.maxZoom = 18;

    // Displays current user location and accuracy
    /*function onLocationFound(e) {
      var radius = e.accuracy / 2;

      L.marker(e.latlng).addTo(map).bindPopup("You are within " + radius + " meters from this point").openPopup();

      L.circle(e.latlng, radius).addTo(map);
    }
    map.on('locationfound', onLocationFound);*/

    // Displays coordinates upon mouse click
    var popup = L.popup();
    function onMapClick(e) {
      popup
        .setLatLng(e.latlng)
        .setContent("You clicked the map at " + e.latlng.toString())
        .openOn(map);
    }
    map.on('click', onMapClick);
  </script>
  <script>
    {% if building %}
        var c = "{{building.building}}";
        var d = "";
        var loc2 = "{{building.building_lon}}";
        var loc1 = "{{building.building_lat}}";
    {% elif c %}
        var c = "{{c.building}}";
        var d = "{{c.room}}";
        var loc2 = "{{c.building_lon}}";
        var loc1 = "{{c.building_lat}}";
    {% endif %}
    map.fire('bookmark:new', {
      latlng: new L.LatLng(loc1, loc2)
    });
     L.marker([loc1, loc2]).addTo(map)
    .bindPopup(c + " " + d).openPopup();
  </script>

</body>
</html>

{% endblock %}
